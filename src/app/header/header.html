<div class="navbar glass-effect">
   
   <!-- Mobile Menu Button (Left Side) -->
   <button class="mobile-menu-btn" (click)="toggleMenu()">
      <span class="material-icons">menu</span>
   </button>

   <div class="logo-container" routerLink="/">
      <!-- <img src="logo.png" class="logo"> -->
       <!-- Clean, uppercase title with gradient on 'Solutions' -->
      <span class="logo-text">MK IYYAPPA <span class="text-gradient">SOLUTIONS</span></span>
   </div>
   
   <div class="nav-content" [class.active]="isMenuOpen">
      <ul class="menu">
          <li class="menuItem" (click)="switchTo('aboutUs')">About</li>
          <li class="menuItem" (click)="switchTo('productList')">Products</li>
          <li class="menuItem" (click)="switchTo('contactUs')">Contact</li>
          
          <!-- Profile in Mobile Menu -->
          <li class="menuItem mobile-only-profile" (click)="toggleProfileModal()">
             <span class="material-icons">person</span> Profile
          </li>
      </ul>

      <div class="desktop-actions">
         <button class="theme-btn" (click)="toggleTheme()">
            <span class="material-icons">{{ isDarkMode ? 'light_mode' : 'dark_mode' }}</span>
         </button>

         @if (isLoggedIn) {
            <div class="user-profile" (click)="logout()" title="Click to Logout">
               <span class="user-name">{{ userName }}</span>
               <span class="material-icons">logout</span>
            </div>
         } @else {
            <button class="btn-primary login-btn" (click)="onLogin()">Login</button>
         }
      </div>
   </div>

   @if (showProfileModal) {
    <app-profile-modal (close)="toggleProfileModal()"></app-profile-modal>
   }

   @if (showLoginModal) {
    <div class="modal-overlay" (click)="toggleLoginModal()">
      <div class="modal-content" (click)="$event.stopPropagation()">
         <app-login [isModal]="true" (close)="toggleLoginModal()"></app-login>
      </div>
    </div>
  }

  @if (showSessionExpiredModal) {
    <div class="modal-overlay">
      <div class="modal-content session-modal" (click)="$event.stopPropagation()">
         <div class="session-expired-box">
            <span class="material-icons warning-icon">warning</span>
            <h2>Session Expired</h2>
            <p>Your session has expired. Please log in again to continue.</p>
            <button class="btn-primary" (click)="closeSessionExpiredModal()">OK</button>
         </div>
      </div>
    </div>
  }
</div>